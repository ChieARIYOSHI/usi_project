{"ast":null,"code":"var _jsxFileName = \"/Users/qrec-pm/usi_project/src/components/login.js\";\nimport React from 'react';\nimport { Button, Form, FormGroup, Label, Input, FormFeedback, Spinner } from 'reactstrap';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport firebase from 'firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false //spinner制御用\n\n    };\n    this._isMounted = false;\n\n    this.handleOnSubmit = values => {\n      //spinner表示開始\n      if (this._isMounted) this.setState({\n        loading: true\n      }); //サインイン（ログイン）処理\n\n      firebase.auth().signInWithEmailAndPassword(values.email, values.password).then(res => {\n        //正常終了時\n        this.props.history.push(\"/\");\n        if (this._isMounted) this.setState({\n          loading: false\n        });\n      }).catch(error => {\n        //異常終了時\n        if (this._isMounted) this.setState({\n          loading: false\n        });\n        alert(error);\n      });\n    };\n\n    this.componentDidMount = () => {\n      this._isMounted = true;\n    };\n\n    this.componentWillUnmount = () => {\n      this._isMounted = false;\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mx-auto\",\n        style: {\n          width: 400,\n          background: '#eee',\n          padding: 20,\n          marginTop: 60\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: \"\\u30B5\\u30A4\\u30F3\\u30A4\\u30F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Formik, {\n          initialValues: {\n            email: '',\n            password: ''\n          },\n          onSubmit: values => this.handleOnSubmit(values),\n          validationSchema: Yup.object().shape({\n            email: Yup.string().email().required(),\n            password: Yup.string().required()\n          }),\n          children: ({\n            handleSubmit,\n            handleChange,\n            handleBlur,\n            values,\n            errors,\n            touched\n          }) => /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                for: \"email\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"email\",\n                name: \"email\",\n                id: \"email\",\n                value: values.email,\n                onChange: handleChange,\n                onBlur: handleBlur,\n                invalid: touched.email && errors.email ? true : false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(FormFeedback, {\n                children: errors.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                for: \"password\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"password\",\n                name: \"password\",\n                id: \"password\",\n                value: values.password,\n                onChange: handleChange,\n                onBlur: handleBlur,\n                invalid: touched.password && errors.password ? true : false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(FormFeedback, {\n                children: errors.password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                color: \"primary\",\n                type: \"submit\",\n                disabled: this.state.loading,\n                children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                  size: \"sm\",\n                  color: \"light\",\n                  style: {\n                    marginRight: 5\n                  },\n                  hidden: !this.state.loading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 45\n                }, this), \"\\u30ED\\u30B0\\u30A4\\u30F3\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mx-auto\",\n        style: {\n          width: 400,\n          background: '#fff',\n          padding: 20\n        },\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          children: \"\\u65B0\\u898F\\u767B\\u9332\\u306F\\u3053\\u3061\\u3089\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Login);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/qrec-pm/usi_project/src/components/login.js"],"names":["React","Button","Form","FormGroup","Label","Input","FormFeedback","Spinner","Link","withRouter","Formik","Yup","firebase","Login","Component","state","loading","_isMounted","handleOnSubmit","values","setState","auth","signInWithEmailAndPassword","email","password","then","res","props","history","push","catch","error","alert","componentDidMount","componentWillUnmount","render","width","background","padding","marginTop","textAlign","object","shape","string","required","handleSubmit","handleChange","handleBlur","errors","touched","marginRight"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Button, Form, FormGroup, Label, Input, FormFeedback, Spinner } from 'reactstrap';\nimport { Link, withRouter } from 'react-router-dom'\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport firebase from 'firebase';\n\nclass Login extends React.Component {\n\n    state = {\n        loading: false, //spinner制御用\n    }\n\n    _isMounted = false;\n\n    handleOnSubmit = (values) => {\n        //spinner表示開始\n        if (this._isMounted) this.setState({ loading: true })\n        //サインイン（ログイン）処理\n        firebase.auth().signInWithEmailAndPassword(values.email, values.password)\n            .then(res => {\n                //正常終了時\n                this.props.history.push(\"/\");\n                if (this._isMounted) this.setState({ loading: false });\n            })\n            .catch(error => {\n                //異常終了時\n                if (this._isMounted) this.setState({ loading: false });\n                alert(error);\n            });\n\n    }\n\n    componentDidMount = () => {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount = () => {\n        this._isMounted = false;\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <div className=\"mx-auto\" style={{ width: 400, background: '#eee', padding: 20, marginTop: 60 }}>\n                    <p style={{ textAlign: 'center' }}>サインイン</p>\n                    <Formik\n                        initialValues={{ email: '', password: '' }}\n                        onSubmit={(values) => this.handleOnSubmit(values)}\n                        validationSchema={Yup.object().shape({\n                            email: Yup.string().email().required(),\n                            password: Yup.string().required(),\n                        })}\n                    >\n                        {\n                            ({ handleSubmit, handleChange, handleBlur, values, errors, touched }) => (\n                                <Form onSubmit={handleSubmit}>\n                                    <FormGroup>\n                                        <Label for=\"email\">Email</Label>\n                                        <Input\n                                            type=\"email\"\n                                            name=\"email\"\n                                            id=\"email\"\n                                            value={values.email}\n                                            onChange={handleChange}\n                                            onBlur={handleBlur}\n                                            invalid={touched.email && errors.email ? true : false}\n                                        />\n                                        <FormFeedback>\n                                            {errors.email}\n                                        </FormFeedback>\n                                    </FormGroup>\n                                    <FormGroup>\n                                        <Label for=\"password\">Password</Label>\n                                        <Input\n                                            type=\"password\"\n                                            name=\"password\"\n                                            id=\"password\"\n                                            value={values.password}\n                                            onChange={handleChange}\n                                            onBlur={handleBlur}\n                                            invalid={touched.password && errors.password ? true : false}\n                                        />\n                                        <FormFeedback>\n                                            {errors.password}\n                                        </FormFeedback>\n                                    </FormGroup>\n                                    <div style={{ textAlign: 'center' }}>\n                                        <Button color=\"primary\" type=\"submit\" disabled={this.state.loading}>\n                                            <Spinner size=\"sm\" color=\"light\" style={{ marginRight: 5 }} hidden={!this.state.loading} />\n                                            ログイン\n                                        </Button>\n                                    </div>\n                                </Form>\n                            )\n                        }\n                    </Formik>\n                </div>\n                <div className=\"mx-auto\" style={{ width: 400, background: '#fff', padding: 20 }}>\n                    <Link to=\"/signup\">新規登録はこちら。</Link>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}